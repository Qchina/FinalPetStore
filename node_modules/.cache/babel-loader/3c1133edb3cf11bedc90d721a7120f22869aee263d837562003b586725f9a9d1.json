{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"payment-container\"\n};\nconst _hoisted_2 = {\n  class: \"detail-table\"\n};\nconst _hoisted_3 = {\n  class: \"detail-table\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[27] || (_cache[27] = _createElementVNode(\"h2\", null, \"Payment Details\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[11] || (_cache[11] = _withModifiers((...args) => $options.continueToConfirm && $options.continueToConfirm(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"table\", _hoisted_2, [_cache[16] || (_cache[16] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    colspan: \"2\"\n  }, \"Payment Information\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [_createElementVNode(\"tr\", null, [_cache[13] || (_cache[13] = _createElementVNode(\"td\", null, \"Card Type:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"select\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.payment.cardType = $event)\n  }, _cache[12] || (_cache[12] = [_createElementVNode(\"option\", {\n    value: \"Visa\"\n  }, \"Visa\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"MasterCard\"\n  }, \"MasterCard\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"Amex\"\n  }, \"American Express\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.payment.cardType]])])]), _createElementVNode(\"tr\", null, [_cache[14] || (_cache[14] = _createElementVNode(\"td\", null, \"Credit Card:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.payment.creditCard = $event),\n    placeholder: \"1234 5678 9012 3456\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.payment.creditCard]])])]), _createElementVNode(\"tr\", null, [_cache[15] || (_cache[15] = _createElementVNode(\"td\", null, \"Expiry Date (MM/YYYY):\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.payment.expiryDate = $event),\n    placeholder: \"MM/YYYY\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.payment.expiryDate]])])])])]), _createElementVNode(\"table\", _hoisted_3, [_cache[25] || (_cache[25] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    colspan: \"2\"\n  }, \"Billing Address\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [_createElementVNode(\"tr\", null, [_cache[17] || (_cache[17] = _createElementVNode(\"td\", null, \"First Name:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.billing.firstName = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.billing.firstName]])])]), _createElementVNode(\"tr\", null, [_cache[18] || (_cache[18] = _createElementVNode(\"td\", null, \"Last Name:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.billing.lastName = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.billing.lastName]])])]), _createElementVNode(\"tr\", null, [_cache[19] || (_cache[19] = _createElementVNode(\"td\", null, \"Address 1:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.billing.address1 = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.billing.address1]])])]), _createElementVNode(\"tr\", null, [_cache[20] || (_cache[20] = _createElementVNode(\"td\", null, \"Address 2:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.billing.address2 = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.billing.address2]])])]), _createElementVNode(\"tr\", null, [_cache[21] || (_cache[21] = _createElementVNode(\"td\", null, \"City:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.billing.city = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.billing.city]])])]), _createElementVNode(\"tr\", null, [_cache[22] || (_cache[22] = _createElementVNode(\"td\", null, \"State:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.billing.state = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.billing.state]])])]), _createElementVNode(\"tr\", null, [_cache[23] || (_cache[23] = _createElementVNode(\"td\", null, \"Zip:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.billing.zip = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.billing.zip]])])]), _createElementVNode(\"tr\", null, [_cache[24] || (_cache[24] = _createElementVNode(\"td\", null, \"Country:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.billing.country = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.billing.country]])])])])]), _cache[26] || (_cache[26] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"continue-btn\"\n  }, \"Continue\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */)]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","onSubmit","_cache","_withModifiers","args","$options","continueToConfirm","_hoisted_2","colspan","$event","$data","payment","cardType","value","type","creditCard","placeholder","expiryDate","_hoisted_3","billing","firstName","lastName","address1","address2","city","state","zip","country"],"sources":["D:\\ournewpetstore\\src\\views\\PaymentDetails.vue"],"sourcesContent":["<template>\r\n    <div class=\"payment-container\">\r\n      <h2>Payment Details</h2>\r\n      <form @submit.prevent=\"continueToConfirm\">\r\n        <table class=\"detail-table\">\r\n          <thead>\r\n            <tr>\r\n              <th colspan=\"2\">Payment Information</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>Card Type:</td>\r\n              <td>\r\n                <select v-model=\"payment.cardType\">\r\n                  <option value=\"Visa\">Visa</option>\r\n                  <option value=\"MasterCard\">MasterCard</option>\r\n                  <option value=\"Amex\">American Express</option>\r\n                </select>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Credit Card:</td>\r\n              <td><input type=\"text\" v-model=\"payment.creditCard\" placeholder=\"1234 5678 9012 3456\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Expiry Date (MM/YYYY):</td>\r\n              <td><input type=\"text\" v-model=\"payment.expiryDate\" placeholder=\"MM/YYYY\"></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n  \r\n        <table class=\"detail-table\">\r\n          <thead>\r\n            <tr>\r\n              <th colspan=\"2\">Billing Address</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>First Name:</td>\r\n              <td><input type=\"text\" v-model=\"billing.firstName\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Last Name:</td>\r\n              <td><input type=\"text\" v-model=\"billing.lastName\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Address 1:</td>\r\n              <td><input type=\"text\" v-model=\"billing.address1\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Address 2:</td>\r\n              <td><input type=\"text\" v-model=\"billing.address2\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>City:</td>\r\n              <td><input type=\"text\" v-model=\"billing.city\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>State:</td>\r\n              <td><input type=\"text\" v-model=\"billing.state\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Zip:</td>\r\n              <td><input type=\"text\" v-model=\"billing.zip\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Country:</td>\r\n              <td><input type=\"text\" v-model=\"billing.country\"></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n  \r\n        <button type=\"submit\" class=\"continue-btn\">Continue</button>\r\n      </form>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        payment: {\r\n          cardType: \"\",\r\n          creditCard: \"\",\r\n          expiryDate: \"\"\r\n        },\r\n        billing: {\r\n          firstName: \"\",\r\n          lastName: \"\",\r\n          address1: \"\",\r\n          address2: \"\",\r\n          city: \"\",\r\n          state: \"\",\r\n          zip: \"\",\r\n          country: \"\"\r\n        }\r\n      };\r\n    },\r\n    mounted() {\r\n      // 获取初始订单信息\r\n      this.fetchInitialOrderData();\r\n    },\r\n    methods: {\r\n      fetchInitialOrderData() {\r\n        // 调用创建订单API获取初始数据\r\n        fetch(\"/orders\")\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            if (data.status === 0) {\r\n              const orderData = data.data;\r\n              this.payment.cardType = orderData.cardType || \"\";\r\n              this.payment.creditCard = orderData.creditCard || \"\";\r\n              this.payment.expiryDate = orderData.expiryDate || \"\";\r\n              \r\n              this.billing.firstName = orderData.billToFirstName || \"\";\r\n              this.billing.lastName = orderData.billToLastName || \"\";\r\n              this.billing.address1 = orderData.billAddress1 || \"\";\r\n              this.billing.address2 = orderData.billAddress2 || \"\";\r\n              this.billing.city = orderData.billCity || \"\";\r\n              this.billing.state = orderData.billState || \"\";\r\n              this.billing.zip = orderData.billZip || \"\";\r\n              this.billing.country = orderData.billCountry || \"\";\r\n            }\r\n          })\r\n          .catch(error => console.error(\"Error fetching initial order data:\", error));\r\n      },\r\n      continueToConfirm() {\r\n        // 准备订单数据\r\n        const orderData = {\r\n          cardType: this.payment.cardType,\r\n          creditCard: this.payment.creditCard,\r\n          expiryDate: this.payment.expiryDate,\r\n          billToFirstName: this.billing.firstName,\r\n          billToLastName: this.billing.lastName,\r\n          billAddress1: this.billing.address1,\r\n          billAddress2: this.billing.address2,\r\n          billCity: this.billing.city,\r\n          billState: this.billing.state,\r\n          billZip: this.billing.zip,\r\n          billCountry: this.billing.country\r\n        };\r\n        \r\n        // 提交订单数据\r\n        fetch(\"/orders\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\"\r\n          },\r\n          body: JSON.stringify(orderData)\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          if (data.status === 0) {\r\n            // 跳转到确认页面\r\n            this.$router.push({\r\n              name: \"ConfirmOrder\",\r\n              params: { orderData: JSON.stringify(data.data) }\r\n            });\r\n          }\r\n        })\r\n        .catch(error => console.error(\"Error confirming order:\", error));\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .payment-container {\r\n    max-width: 800px;\r\n    margin: 0 auto;\r\n    padding: 20px;\r\n  }\r\n  \r\n  .detail-table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  .detail-table th {\r\n    background-color: #f5f5f5;\r\n    padding: 10px;\r\n    text-align: left;\r\n  }\r\n  \r\n  .detail-table td {\r\n    padding: 10px;\r\n    border-bottom: 1px solid #ddd;\r\n  }\r\n  \r\n  .detail-table input,\r\n  .detail-table select {\r\n    width: 100%;\r\n    padding: 8px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n  }\r\n  \r\n  .continue-btn {\r\n    background-color: #4CAF50;\r\n    color: white;\r\n    padding: 12px 20px;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n    display: block;\r\n    margin: 20px auto 0;\r\n  }\r\n  \r\n  .continue-btn:hover {\r\n    background-color: #45a049;\r\n  }\r\n  </style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}