{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"payment-container\"\n};\nconst _hoisted_2 = {\n  class: \"detail-table\"\n};\nconst _hoisted_3 = {\n  class: \"detail-table\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Header = _resolveComponent(\"Header\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_Header), _cache[26] || (_cache[26] = _createElementVNode(\"div\", {\n    class: \"auth-background\"\n  }, null, -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_1, [_cache[25] || (_cache[25] = _createElementVNode(\"h2\", null, \"Payment Details\", -1 /* HOISTED */)), _createElementVNode(\"form\", {\n    onSubmit: _cache[11] || (_cache[11] = _withModifiers((...args) => $options.continueToConfirm && $options.continueToConfirm(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"table\", _hoisted_2, [_createElementVNode(\"tbody\", null, [_createElementVNode(\"tr\", null, [_cache[12] || (_cache[12] = _createElementVNode(\"td\", null, \"Card Type:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.payment.cardType = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.payment.cardType]])])]), _createElementVNode(\"tr\", null, [_cache[13] || (_cache[13] = _createElementVNode(\"td\", null, \"Credit Card:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.payment.creditCard = $event),\n    placeholder: \"1234 5678 9012 3456\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.payment.creditCard]])])]), _createElementVNode(\"tr\", null, [_cache[14] || (_cache[14] = _createElementVNode(\"td\", null, \"Expiry Date (MM/YYYY):\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.payment.expiryDate = $event),\n    placeholder: \"MM/YYYY\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.payment.expiryDate]])])])])]), _createElementVNode(\"table\", _hoisted_3, [_cache[23] || (_cache[23] = _createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    colspan: \"2\"\n  }, \"Billing Address\")])], -1 /* HOISTED */)), _createElementVNode(\"tbody\", null, [_createElementVNode(\"tr\", null, [_cache[15] || (_cache[15] = _createElementVNode(\"td\", null, \"First Name:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.billing.firstName = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.billing.firstName]])])]), _createElementVNode(\"tr\", null, [_cache[16] || (_cache[16] = _createElementVNode(\"td\", null, \"Last Name:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.billing.lastName = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.billing.lastName]])])]), _createElementVNode(\"tr\", null, [_cache[17] || (_cache[17] = _createElementVNode(\"td\", null, \"Address 1:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.billing.address1 = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.billing.address1]])])]), _createElementVNode(\"tr\", null, [_cache[18] || (_cache[18] = _createElementVNode(\"td\", null, \"Address 2:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[6] || (_cache[6] = $event => $data.billing.address2 = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.billing.address2]])])]), _createElementVNode(\"tr\", null, [_cache[19] || (_cache[19] = _createElementVNode(\"td\", null, \"City:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[7] || (_cache[7] = $event => $data.billing.city = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.billing.city]])])]), _createElementVNode(\"tr\", null, [_cache[20] || (_cache[20] = _createElementVNode(\"td\", null, \"State:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[8] || (_cache[8] = $event => $data.billing.state = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.billing.state]])])]), _createElementVNode(\"tr\", null, [_cache[21] || (_cache[21] = _createElementVNode(\"td\", null, \"Zip:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[9] || (_cache[9] = $event => $data.billing.zip = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.billing.zip]])])]), _createElementVNode(\"tr\", null, [_cache[22] || (_cache[22] = _createElementVNode(\"td\", null, \"Country:\", -1 /* HOISTED */)), _createElementVNode(\"td\", null, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[10] || (_cache[10] = $event => $data.billing.country = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.billing.country]])])])])]), _cache[24] || (_cache[24] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"continue-btn\"\n  }, \"Continue\", -1 /* HOISTED */))], 32 /* NEED_HYDRATION */)])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementBlock","_Fragment","_createVNode","_component_Header","_createElementVNode","_hoisted_1","onSubmit","_cache","_withModifiers","args","$options","continueToConfirm","_hoisted_2","type","$event","$data","payment","cardType","creditCard","placeholder","expiryDate","_hoisted_3","colspan","billing","firstName","lastName","address1","address2","city","state","zip","country"],"sources":["D:\\ournewpetstore\\src\\views\\PaymentDetails.vue"],"sourcesContent":["<template>\r\n    <Header />\r\n    <div class=\"auth-background\"></div>\r\n    <div class=\"payment-container\">\r\n      <h2>Payment Details</h2>\r\n      <form @submit.prevent=\"continueToConfirm\">\r\n        <table class=\"detail-table\">\r\n          <tbody>\r\n            <tr>\r\n              <td>Card Type:</td>\r\n              <td><input type=\"text\" v-model=\"payment.cardType\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Credit Card:</td>\r\n              <td><input type=\"text\" v-model=\"payment.creditCard\" placeholder=\"1234 5678 9012 3456\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Expiry Date (MM/YYYY):</td>\r\n              <td><input type=\"text\" v-model=\"payment.expiryDate\" placeholder=\"MM/YYYY\"></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n  \r\n        <table class=\"detail-table\">\r\n          <thead>\r\n            <tr>\r\n              <th colspan=\"2\">Billing Address</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>First Name:</td>\r\n              <td><input type=\"text\" v-model=\"billing.firstName\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Last Name:</td>\r\n              <td><input type=\"text\" v-model=\"billing.lastName\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Address 1:</td>\r\n              <td><input type=\"text\" v-model=\"billing.address1\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Address 2:</td>\r\n              <td><input type=\"text\" v-model=\"billing.address2\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>City:</td>\r\n              <td><input type=\"text\" v-model=\"billing.city\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>State:</td>\r\n              <td><input type=\"text\" v-model=\"billing.state\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Zip:</td>\r\n              <td><input type=\"text\" v-model=\"billing.zip\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Country:</td>\r\n              <td><input type=\"text\" v-model=\"billing.country\"></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n  \r\n        <button type=\"submit\" class=\"continue-btn\">Continue</button>\r\n      </form>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import Header from '@/components/CommonTop.vue'\r\n  export default {\r\n    components: {\r\n    Header\r\n  },\r\n    data() {\r\n      return {\r\n        payment: {\r\n          cardType: \"\",\r\n          creditCard: \"\",\r\n          expiryDate: \"\"\r\n        },\r\n        billing: {\r\n          firstName: \"\",\r\n          lastName: \"\",\r\n          address1: \"\",\r\n          address2: \"\",\r\n          city: \"\",\r\n          state: \"\",\r\n          zip: \"\",\r\n          country: \"\"\r\n        }\r\n      };\r\n    },\r\n    mounted() {\r\n      // 获取初始订单信息\r\n      this.fetchInitialOrderData();\r\n    },\r\n    methods: {\r\n      fetchInitialOrderData() {\r\n        // 调用创建订单API获取初始数据\r\n        fetch(\"http://localhost:9090/api/v8/users/orders?username=j2ee\")\r\n          .then( response => response.json())\r\n          .then(data => {\r\n            if (data.status === 0) {\r\n              const orderData = data.data[0];\r\n              this.payment.cardType = orderData.cardType || \"\";\r\n              this.payment.creditCard = orderData.creditCard || \"\";\r\n              this.payment.expiryDate = orderData.expiryDate || \"\";\r\n              \r\n              this.billing.firstName = orderData.billToFirstName || \"\";\r\n              this.billing.lastName = orderData.billToLastName || \"\";\r\n              this.billing.address1 = orderData.billAddress1 || \"\";\r\n              this.billing.address2 = orderData.billAddress2 || \"\";\r\n              this.billing.city = orderData.billCity || \"\";\r\n              this.billing.state = orderData.billState || \"\";\r\n              this.billing.zip = orderData.billZip || \"\";\r\n              this.billing.country = orderData.billCountry || \"\";\r\n            }\r\n          })\r\n          .catch(error => console.error(\"Error fetching initial order data:\", error));\r\n      },\r\n      continueToConfirm() {\r\n        // 准备订单数据\r\n        const orderData = {\r\n          cardType: this.payment.cardType,\r\n          creditCard: this.payment.creditCard,\r\n          expiryDate: this.payment.expiryDate,\r\n          billToFirstName: this.billing.firstName,\r\n          billToLastName: this.billing.lastName,\r\n          billAddress1: this.billing.address1,\r\n          billAddress2: this.billing.address2,\r\n          billCity: this.billing.city,\r\n          billState: this.billing.state,\r\n          billZip: this.billing.zip,\r\n          billCountry: this.billing.country\r\n        };\r\n        \r\n        // 提交订单数据\r\n        fetch(\"http://localhost:9090/api/v8/orders\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\"\r\n          },\r\n          body: JSON.stringify(orderData)\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          if (data.status === 0) {\r\n            // 跳转到确认页面\r\n            this.$router.push({\r\n              name: \"ConfirmOrder\",\r\n              params: { orderData: JSON.stringify(data.data) }\r\n            });\r\n          }\r\n        })\r\n        .catch(error => console.error(\"Error confirming order:\", error));\r\n        this.$router.push('/order2');\r\n      },\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .auth-background {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-image: url('@/assets/background.png');\r\n  background-size: cover;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-attachment: fixed;\r\n  z-index: -1; /* 关键修改：将层级设为-1使其位于内容下方 */\r\n}\r\n\r\n  .payment-container {\r\n    position: relative; /* 新增：创建新的层叠上下文 */\r\n  z-index: 1; /* 新增：确保内容在背景之上 */\r\n  max-width: 800px;\r\n  margin: 80px auto 0;\r\n  padding: 20px;\r\n  background: white; /* 可选：添加白色背景增强可读性 */\r\n  box-shadow: 0 0 20px rgba(0,0,0,0.1); /* 可选：添加阴影效果 */\r\n  }\r\n  \r\n  .detail-table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  .detail-table th {\r\n    background-color: #f5f5f5;\r\n    padding: 10px;\r\n    text-align: left;\r\n  }\r\n  \r\n  .detail-table td {\r\n    padding: 10px;\r\n    border-bottom: 1px solid #ddd;\r\n  }\r\n  \r\n  .detail-table input,\r\n  .detail-table select {\r\n    width: 100%;\r\n    padding: 8px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n  }\r\n  \r\n  .continue-btn {\r\n    background-color: #4CAF50;\r\n    color: white;\r\n    padding: 12px 20px;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n    display: block;\r\n    margin: 20px auto 0;\r\n  }\r\n  \r\n  .continue-btn:hover {\r\n    background-color: #45a049;\r\n  }\r\n  </style>"],"mappings":";;EAGSA,KAAK,EAAC;AAAmB;;EAGnBA,KAAK,EAAC;AAAc;;EAiBpBA,KAAK,EAAC;AAAc;;;uBAvBnCC,mBAAA,CAAAC,SAAA,SACIC,YAAA,CAAUC,iBAAA,G,4BACVC,mBAAA,CAAmC;IAA9BL,KAAK,EAAC;EAAiB,6BAC5BK,mBAAA,CAgEM,OAhENC,UAgEM,G,4BA/DJD,mBAAA,CAAwB,YAApB,iBAAe,sBACnBA,mBAAA,CA6DO;IA7DAE,QAAM,EAAAC,MAAA,SAAAA,MAAA,OALnBC,cAAA,KAAAC,IAAA,KAK6BC,QAAA,CAAAC,iBAAA,IAAAD,QAAA,CAAAC,iBAAA,IAAAF,IAAA,CAAiB;MACtCL,mBAAA,CAeQ,SAfRQ,UAeQ,GAdNR,mBAAA,CAaQ,gBAZNA,mBAAA,CAGK,a,4BAFHA,mBAAA,CAAmB,YAAf,YAAU,sBACdA,mBAAA,CAAuD,a,gBAAnDA,mBAAA,CAA8C;IAAvCS,IAAI,EAAC,MAAM;IAVpC,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAU8CC,KAAA,CAAAC,OAAO,CAACC,QAAQ,GAAAH,MAAA;iDAAhBC,KAAA,CAAAC,OAAO,CAACC,QAAQ,E,OAElDb,mBAAA,CAGK,a,4BAFHA,mBAAA,CAAqB,YAAjB,cAAY,sBAChBA,mBAAA,CAA2F,a,gBAAvFA,mBAAA,CAAkF;IAA3ES,IAAI,EAAC,MAAM;IAdpC,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAc8CC,KAAA,CAAAC,OAAO,CAACE,UAAU,GAAAJ,MAAA;IAAEK,WAAW,EAAC;iDAAhCJ,KAAA,CAAAC,OAAO,CAACE,UAAU,E,OAEpDd,mBAAA,CAGK,a,4BAFHA,mBAAA,CAA+B,YAA3B,wBAAsB,sBAC1BA,mBAAA,CAA+E,a,gBAA3EA,mBAAA,CAAsE;IAA/DS,IAAI,EAAC,MAAM;IAlBpC,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAkB8CC,KAAA,CAAAC,OAAO,CAACI,UAAU,GAAAN,MAAA;IAAEK,WAAW,EAAC;iDAAhCJ,KAAA,CAAAC,OAAO,CAACI,UAAU,E,WAKxDhB,mBAAA,CAwCQ,SAxCRiB,UAwCQ,G,4BAvCNjB,mBAAA,CAIQ,gBAHNA,mBAAA,CAEK,aADHA,mBAAA,CAAoC;IAAhCkB,OAAO,EAAC;EAAG,GAAC,iBAAe,E,wBAGnClB,mBAAA,CAiCQ,gBAhCNA,mBAAA,CAGK,a,4BAFHA,mBAAA,CAAoB,YAAhB,aAAW,sBACfA,mBAAA,CAAwD,a,gBAApDA,mBAAA,CAA+C;IAAxCS,IAAI,EAAC,MAAM;IAhCpC,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAgC8CC,KAAA,CAAAQ,OAAO,CAACC,SAAS,GAAAV,MAAA;iDAAjBC,KAAA,CAAAQ,OAAO,CAACC,SAAS,E,OAEnDpB,mBAAA,CAGK,a,4BAFHA,mBAAA,CAAmB,YAAf,YAAU,sBACdA,mBAAA,CAAuD,a,gBAAnDA,mBAAA,CAA8C;IAAvCS,IAAI,EAAC,MAAM;IApCpC,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAoC8CC,KAAA,CAAAQ,OAAO,CAACE,QAAQ,GAAAX,MAAA;iDAAhBC,KAAA,CAAAQ,OAAO,CAACE,QAAQ,E,OAElDrB,mBAAA,CAGK,a,4BAFHA,mBAAA,CAAmB,YAAf,YAAU,sBACdA,mBAAA,CAAuD,a,gBAAnDA,mBAAA,CAA8C;IAAvCS,IAAI,EAAC,MAAM;IAxCpC,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAwC8CC,KAAA,CAAAQ,OAAO,CAACG,QAAQ,GAAAZ,MAAA;iDAAhBC,KAAA,CAAAQ,OAAO,CAACG,QAAQ,E,OAElDtB,mBAAA,CAGK,a,4BAFHA,mBAAA,CAAmB,YAAf,YAAU,sBACdA,mBAAA,CAAuD,a,gBAAnDA,mBAAA,CAA8C;IAAvCS,IAAI,EAAC,MAAM;IA5CpC,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IA4C8CC,KAAA,CAAAQ,OAAO,CAACI,QAAQ,GAAAb,MAAA;iDAAhBC,KAAA,CAAAQ,OAAO,CAACI,QAAQ,E,OAElDvB,mBAAA,CAGK,a,4BAFHA,mBAAA,CAAc,YAAV,OAAK,sBACTA,mBAAA,CAAmD,a,gBAA/CA,mBAAA,CAA0C;IAAnCS,IAAI,EAAC,MAAM;IAhDpC,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAgD8CC,KAAA,CAAAQ,OAAO,CAACK,IAAI,GAAAd,MAAA;iDAAZC,KAAA,CAAAQ,OAAO,CAACK,IAAI,E,OAE9CxB,mBAAA,CAGK,a,4BAFHA,mBAAA,CAAe,YAAX,QAAM,sBACVA,mBAAA,CAAoD,a,gBAAhDA,mBAAA,CAA2C;IAApCS,IAAI,EAAC,MAAM;IApDpC,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAoD8CC,KAAA,CAAAQ,OAAO,CAACM,KAAK,GAAAf,MAAA;iDAAbC,KAAA,CAAAQ,OAAO,CAACM,KAAK,E,OAE/CzB,mBAAA,CAGK,a,4BAFHA,mBAAA,CAAa,YAAT,MAAI,sBACRA,mBAAA,CAAkD,a,gBAA9CA,mBAAA,CAAyC;IAAlCS,IAAI,EAAC,MAAM;IAxDpC,uBAAAN,MAAA,QAAAA,MAAA,MAAAO,MAAA,IAwD8CC,KAAA,CAAAQ,OAAO,CAACO,GAAG,GAAAhB,MAAA;iDAAXC,KAAA,CAAAQ,OAAO,CAACO,GAAG,E,OAE7C1B,mBAAA,CAGK,a,4BAFHA,mBAAA,CAAiB,YAAb,UAAQ,sBACZA,mBAAA,CAAsD,a,gBAAlDA,mBAAA,CAA6C;IAAtCS,IAAI,EAAC,MAAM;IA5DpC,uBAAAN,MAAA,SAAAA,MAAA,OAAAO,MAAA,IA4D8CC,KAAA,CAAAQ,OAAO,CAACQ,OAAO,GAAAjB,MAAA;iDAAfC,KAAA,CAAAQ,OAAO,CAACQ,OAAO,E,uCAKrD3B,mBAAA,CAA4D;IAApDS,IAAI,EAAC,QAAQ;IAACd,KAAK,EAAC;KAAe,UAAQ,qB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}