{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Header from '@/components/CommonTop.vue';\nexport default {\n  components: {\n    Header\n  },\n  data() {\n    return {\n      payment: {\n        cardType: \"\",\n        creditCard: \"\",\n        expiryDate: \"\"\n      },\n      billing: {\n        firstName: \"\",\n        lastName: \"\",\n        address1: \"\",\n        address2: \"\",\n        city: \"\",\n        state: \"\",\n        zip: \"\",\n        country: \"\"\n      }\n    };\n  },\n  mounted() {\n    // 获取初始订单信息\n    this.fetchInitialOrderData();\n  },\n  methods: {\n    fetchInitialOrderData() {\n      // 调用创建订单API获取初始数据\n      fetch(\"http://localhost:9090/api/v8/orders\").then(response => response.json()).then(data => {\n        if (data.status === 0) {\n          const orderData = data;\n          this.payment.cardType = orderData.cardType || \"\";\n          this.payment.creditCard = orderData.creditCard || \"\";\n          this.payment.expiryDate = orderData.expiryDate || \"\";\n          this.billing.firstName = orderData.billToFirstName || \"\";\n          this.billing.lastName = orderData.billToLastName || \"\";\n          this.billing.address1 = orderData.billAddress1 || \"\";\n          this.billing.address2 = orderData.billAddress2 || \"\";\n          this.billing.city = orderData.billCity || \"\";\n          this.billing.state = orderData.billState || \"\";\n          this.billing.zip = orderData.billZip || \"\";\n          this.billing.country = orderData.billCountry || \"\";\n        }\n      }).catch(error => console.error(\"Error fetching initial order data:\", error));\n    },\n    continueToConfirm() {\n      // 准备订单数据\n      const orderData = {\n        cardType: this.payment.cardType,\n        creditCard: this.payment.creditCard,\n        expiryDate: this.payment.expiryDate,\n        billToFirstName: this.billing.firstName,\n        billToLastName: this.billing.lastName,\n        billAddress1: this.billing.address1,\n        billAddress2: this.billing.address2,\n        billCity: this.billing.city,\n        billState: this.billing.state,\n        billZip: this.billing.zip,\n        billCountry: this.billing.country\n      };\n\n      // 提交订单数据\n      fetch(\"http://localhost:9090/api/v8/orders\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(orderData)\n      }).then(response => response.json()).then(data => {\n        if (data.status === 0) {\n          // 跳转到确认页面\n          this.$router.push({\n            name: \"ConfirmOrder\",\n            params: {\n              orderData: JSON.stringify(data.data)\n            }\n          });\n        }\n      }).catch(error => console.error(\"Error confirming order:\", error));\n    }\n  }\n};","map":{"version":3,"names":["Header","components","data","payment","cardType","creditCard","expiryDate","billing","firstName","lastName","address1","address2","city","state","zip","country","mounted","fetchInitialOrderData","methods","fetch","then","response","json","status","orderData","billToFirstName","billToLastName","billAddress1","billAddress2","billCity","billState","billZip","billCountry","catch","error","console","continueToConfirm","method","headers","body","JSON","stringify","$router","push","name","params"],"sources":["D:\\ournewpetstore\\src\\views\\OrderAuth.vue"],"sourcesContent":["<template>\r\n    <Header />\r\n    <div class=\"payment-container\">\r\n      <h2>Payment Details</h2>\r\n      <form @submit.prevent=\"continueToConfirm\">\r\n        <table class=\"detail-table\">\r\n          <tbody>\r\n            <tr>\r\n              <td>Card Type:</td>\r\n              <td>\r\n                <select v-model=\"payment.cardType\">\r\n                  <option value=\"Visa\">Visa</option>\r\n                  <option value=\"MasterCard\">MasterCard</option>\r\n                  <option value=\"Amex\">American Express</option>\r\n                </select>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>Credit Card:</td>\r\n              <td><input type=\"text\" v-model=\"payment.creditCard\" placeholder=\"1234 5678 9012 3456\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Expiry Date (MM/YYYY):</td>\r\n              <td><input type=\"text\" v-model=\"payment.expiryDate\" placeholder=\"MM/YYYY\"></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n  \r\n        <table class=\"detail-table\">\r\n          <thead>\r\n            <tr>\r\n              <th colspan=\"2\">Billing Address</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td>First Name:</td>\r\n              <td><input type=\"text\" v-model=\"billing.firstName\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Last Name:</td>\r\n              <td><input type=\"text\" v-model=\"billing.lastName\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Address 1:</td>\r\n              <td><input type=\"text\" v-model=\"billing.address1\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Address 2:</td>\r\n              <td><input type=\"text\" v-model=\"billing.address2\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>City:</td>\r\n              <td><input type=\"text\" v-model=\"billing.city\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>State:</td>\r\n              <td><input type=\"text\" v-model=\"billing.state\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Zip:</td>\r\n              <td><input type=\"text\" v-model=\"billing.zip\"></td>\r\n            </tr>\r\n            <tr>\r\n              <td>Country:</td>\r\n              <td><input type=\"text\" v-model=\"billing.country\"></td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n  \r\n        <button type=\"submit\" class=\"continue-btn\">Continue</button>\r\n      </form>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import Header from '@/components/CommonTop.vue'\r\n  export default {\r\n    components: {\r\n    Header\r\n  },\r\n    data() {\r\n      return {\r\n        payment: {\r\n          cardType: \"\",\r\n          creditCard: \"\",\r\n          expiryDate: \"\"\r\n        },\r\n        billing: {\r\n          firstName: \"\",\r\n          lastName: \"\",\r\n          address1: \"\",\r\n          address2: \"\",\r\n          city: \"\",\r\n          state: \"\",\r\n          zip: \"\",\r\n          country: \"\"\r\n        }\r\n      };\r\n    },\r\n    mounted() {\r\n      // 获取初始订单信息\r\n      this.fetchInitialOrderData();\r\n    },\r\n    methods: {\r\n      fetchInitialOrderData() {\r\n        // 调用创建订单API获取初始数据\r\n        fetch(\"http://localhost:9090/api/v8/orders\")\r\n          .then(response => response.json())\r\n          .then(data => {\r\n            if (data.status === 0) {\r\n              const orderData = data;\r\n              this.payment.cardType = orderData.cardType || \"\";\r\n              this.payment.creditCard = orderData.creditCard || \"\";\r\n              this.payment.expiryDate = orderData.expiryDate || \"\";\r\n              \r\n              this.billing.firstName = orderData.billToFirstName || \"\";\r\n              this.billing.lastName = orderData.billToLastName || \"\";\r\n              this.billing.address1 = orderData.billAddress1 || \"\";\r\n              this.billing.address2 = orderData.billAddress2 || \"\";\r\n              this.billing.city = orderData.billCity || \"\";\r\n              this.billing.state = orderData.billState || \"\";\r\n              this.billing.zip = orderData.billZip || \"\";\r\n              this.billing.country = orderData.billCountry || \"\";\r\n            }\r\n          })\r\n          .catch(error => console.error(\"Error fetching initial order data:\", error));\r\n      },\r\n      continueToConfirm() {\r\n        // 准备订单数据\r\n        const orderData = {\r\n          cardType: this.payment.cardType,\r\n          creditCard: this.payment.creditCard,\r\n          expiryDate: this.payment.expiryDate,\r\n          billToFirstName: this.billing.firstName,\r\n          billToLastName: this.billing.lastName,\r\n          billAddress1: this.billing.address1,\r\n          billAddress2: this.billing.address2,\r\n          billCity: this.billing.city,\r\n          billState: this.billing.state,\r\n          billZip: this.billing.zip,\r\n          billCountry: this.billing.country\r\n        };\r\n        \r\n        // 提交订单数据\r\n        fetch(\"http://localhost:9090/api/v8/orders\", {\r\n          method: \"POST\",\r\n          headers: {\r\n            \"Content-Type\": \"application/json\"\r\n          },\r\n          body: JSON.stringify(orderData)\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => {\r\n          if (data.status === 0) {\r\n            // 跳转到确认页面\r\n            this.$router.push({\r\n              name: \"ConfirmOrder\",\r\n              params: { orderData: JSON.stringify(data.data) }\r\n            });\r\n          }\r\n        })\r\n        .catch(error => console.error(\"Error confirming order:\", error));\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .payment-container {\r\n    max-width: 800px;\r\n    margin: 0 auto;\r\n    padding: 20px;\r\n  }\r\n  \r\n  .detail-table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    margin-bottom: 20px;\r\n  }\r\n  \r\n  .detail-table th {\r\n    background-color: #f5f5f5;\r\n    padding: 10px;\r\n    text-align: left;\r\n  }\r\n  \r\n  .detail-table td {\r\n    padding: 10px;\r\n    border-bottom: 1px solid #ddd;\r\n  }\r\n  \r\n  .detail-table input,\r\n  .detail-table select {\r\n    width: 100%;\r\n    padding: 8px;\r\n    border: 1px solid #ddd;\r\n    border-radius: 4px;\r\n  }\r\n  \r\n  .continue-btn {\r\n    background-color: #4CAF50;\r\n    color: white;\r\n    padding: 12px 20px;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n    display: block;\r\n    margin: 20px auto 0;\r\n  }\r\n  \r\n  .continue-btn:hover {\r\n    background-color: #45a049;\r\n  }\r\n  </style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}