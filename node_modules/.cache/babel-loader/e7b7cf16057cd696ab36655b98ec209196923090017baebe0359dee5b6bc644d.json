{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  props: ['orderData'],\n  data() {\n    return {\n      isLoading: false,\n      errorMessage: null\n    };\n  },\n  methods: {\n    async proceedToOrderDetails() {\n      try {\n        this.isLoading = true;\n        this.errorMessage = null;\n\n        // 构造要发送的订单数据\n        const orderPayload = {\n          cardType: this.orderData.cardType,\n          creditCard: this.orderData.creditCard,\n          expiryDate: this.orderData.expiryDate,\n          billToFirstName: this.orderData.billToFirstName,\n          billToLastName: this.orderData.billToLastName,\n          billAddress1: this.orderData.billAddress1,\n          billAddress2: this.orderData.billAddress2,\n          billCity: this.orderData.billCity,\n          billState: this.orderData.billState,\n          billZip: this.orderData.billZip,\n          billCountry: this.orderData.billCountry,\n          shipToFirstName: this.orderData.shipToFirstName,\n          shipToLastName: this.orderData.shipToLastName,\n          shipAddress1: this.orderData.shipAddress1,\n          shipAddress2: this.orderData.shipAddress2,\n          shipCity: this.orderData.shipCity,\n          shipState: this.orderData.shipState,\n          shipZip: this.orderData.shipZip,\n          shipCountry: this.orderData.shipCountry,\n          courier: this.orderData.courier || 'standard' // 默认配送方式\n        };\n\n        // 调用后端确认订单接口\n        const response = await axios.post('http://localhost:9090/orders', orderPayload);\n        if (response.data.status === 0) {\n          // 确认成功，跳转到订单详情页\n          this.$router.push({\n            name: \"OrderDetails\",\n            params: {\n              id: response.data.data.orderId\n            }\n          });\n        } else {\n          throw new Error(response.data.message || 'Order confirmation failed');\n        }\n      } catch (error) {\n        console.error('Confirmation error:', error);\n        this.errorMessage = error.response?.data?.message || 'Failed to confirm order. Please try again.';\n      } finally {\n        this.isLoading = false;\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","props","data","isLoading","errorMessage","methods","proceedToOrderDetails","orderPayload","cardType","orderData","creditCard","expiryDate","billToFirstName","billToLastName","billAddress1","billAddress2","billCity","billState","billZip","billCountry","shipToFirstName","shipToLastName","shipAddress1","shipAddress2","shipCity","shipState","shipZip","shipCountry","courier","response","post","status","$router","push","name","params","id","orderId","Error","message","error","console"],"sources":["D:\\ournewpetstore\\src\\views\\ConfirmOrder.vue"],"sourcesContent":["<template>\r\n    <div class=\"confirm-container\">\r\n      <h2>Please confirm the information below and then press continue</h2>\r\n      \r\n      <table class=\"confirm-table\">\r\n        <tbody>\r\n          <tr>\r\n            <td rowspan=\"2\" class=\"order-info\">Order Information</td>\r\n            <td class=\"order-label\">Order ID:</td>\r\n            <td class=\"order-value\">{{ orderData.orderId }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td class=\"order-label\">Order Date:</td>\r\n            <td class=\"order-value\">{{ formatDate(orderData.orderDate) }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n  \r\n      <h3>Billing Address</h3>\r\n      <table class=\"address-table\">\r\n        <tbody>\r\n          <tr>\r\n            <td>First Name:</td>\r\n            <td>{{ orderData.billToFirstName }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Last Name:</td>\r\n            <td>{{ orderData.billToLastName }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Address 1:</td>\r\n            <td>{{ orderData.billAddress1 }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Address 2:</td>\r\n            <td>{{ orderData.billAddress2 }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>City:</td>\r\n            <td>{{ orderData.billCity }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>State:</td>\r\n            <td>{{ orderData.billState }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Zip:</td>\r\n            <td>{{ orderData.billZip }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Country:</td>\r\n            <td>{{ orderData.billCountry }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n  \r\n      <h3>Shipping Address</h3>\r\n      <table class=\"address-table\">\r\n        <tbody>\r\n          <tr>\r\n            <td>First Name:</td>\r\n            <td>{{ orderData.shipToFirstName }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Last Name:</td>\r\n            <td>{{ orderData.shipToLastName }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Address 1:</td>\r\n            <td>{{ orderData.shipAddress1 }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Address 2:</td>\r\n            <td>{{ orderData.shipAddress2 }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>City:</td>\r\n            <td>{{ orderData.shipCity }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>State:</td>\r\n            <td>{{ orderData.shipState }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Zip:</td>\r\n            <td>{{ orderData.shipZip }}</td>\r\n          </tr>\r\n          <tr>\r\n            <td>Country:</td>\r\n            <td>{{ orderData.shipCountry }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n  \r\n      <button class=\"continue-btn\" @click=\"proceedToOrderDetails\">Continue</button>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  \r\n  export default {\r\n    props: ['orderData'],\r\n    data() {\r\n      return {\r\n        isLoading: false,\r\n        errorMessage: null\r\n      }\r\n    },\r\n    methods: {\r\n      async proceedToOrderDetails() {\r\n        try {\r\n          this.isLoading = true;\r\n          this.errorMessage = null;\r\n  \r\n          // 构造要发送的订单数据\r\n          const orderPayload = {\r\n            cardType: this.orderData.cardType,\r\n            creditCard: this.orderData.creditCard,\r\n            expiryDate: this.orderData.expiryDate,\r\n            billToFirstName: this.orderData.billToFirstName,\r\n            billToLastName: this.orderData.billToLastName,\r\n            billAddress1: this.orderData.billAddress1,\r\n            billAddress2: this.orderData.billAddress2,\r\n            billCity: this.orderData.billCity,\r\n            billState: this.orderData.billState,\r\n            billZip: this.orderData.billZip,\r\n            billCountry: this.orderData.billCountry,\r\n            shipToFirstName: this.orderData.shipToFirstName,\r\n            shipToLastName: this.orderData.shipToLastName,\r\n            shipAddress1: this.orderData.shipAddress1,\r\n            shipAddress2: this.orderData.shipAddress2,\r\n            shipCity: this.orderData.shipCity,\r\n            shipState: this.orderData.shipState,\r\n            shipZip: this.orderData.shipZip,\r\n            shipCountry: this.orderData.shipCountry,\r\n            courier: this.orderData.courier || 'standard' // 默认配送方式\r\n          };\r\n  \r\n          // 调用后端确认订单接口\r\n          const response = await axios.post('http://localhost:9090/orders', orderPayload);\r\n          \r\n          if (response.data.status === 0) {\r\n            // 确认成功，跳转到订单详情页\r\n            this.$router.push({\r\n              name: \"OrderDetails\",\r\n              params: { \r\n                id: response.data.data.orderId \r\n              }\r\n            });\r\n          } else {\r\n            throw new Error(response.data.message || 'Order confirmation failed');\r\n          }\r\n        } catch (error) {\r\n          console.error('Confirmation error:', error);\r\n          this.errorMessage = error.response?.data?.message || \r\n                            'Failed to confirm order. Please try again.';\r\n        } finally {\r\n          this.isLoading = false;\r\n        }\r\n      }\r\n    }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .confirm-container {\r\n    max-width: 800px;\r\n    margin: 0 auto;\r\n    padding: 20px;\r\n  }\r\n  \r\n  .confirm-table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    margin-bottom: 30px;\r\n  }\r\n  \r\n  .confirm-table th {\r\n    background-color: #f5f5f5;\r\n    padding: 10px;\r\n    text-align: left;\r\n    width: 200px;\r\n  }\r\n  \r\n  .confirm-table td {\r\n    padding: 10px;\r\n    border-bottom: 1px solid #ddd;\r\n  }\r\n  \r\n  .address-table {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    margin-bottom: 30px;\r\n  }\r\n  \r\n  .address-table td {\r\n    padding: 8px;\r\n    border-bottom: 1px solid #eee;\r\n  }\r\n  \r\n  .continue-btn {\r\n    background-color: #4CAF50;\r\n    color: white;\r\n    padding: 12px 20px;\r\n    border: none;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    font-size: 16px;\r\n    display: block;\r\n    margin: 20px auto 0;\r\n  }\r\n  \r\n  .continue-btn:hover {\r\n    background-color: #45a049;\r\n  }\r\n  </style>"],"mappings":";AAmGE,OAAOA,KAAI,MAAO,OAAO;AAEzB,eAAe;EACbC,KAAK,EAAE,CAAC,WAAW,CAAC;EACpBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,SAAS,EAAE,KAAK;MAChBC,YAAY,EAAE;IAChB;EACF,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,qBAAqBA,CAAA,EAAG;MAC5B,IAAI;QACF,IAAI,CAACH,SAAQ,GAAI,IAAI;QACrB,IAAI,CAACC,YAAW,GAAI,IAAI;;QAExB;QACA,MAAMG,YAAW,GAAI;UACnBC,QAAQ,EAAE,IAAI,CAACC,SAAS,CAACD,QAAQ;UACjCE,UAAU,EAAE,IAAI,CAACD,SAAS,CAACC,UAAU;UACrCC,UAAU,EAAE,IAAI,CAACF,SAAS,CAACE,UAAU;UACrCC,eAAe,EAAE,IAAI,CAACH,SAAS,CAACG,eAAe;UAC/CC,cAAc,EAAE,IAAI,CAACJ,SAAS,CAACI,cAAc;UAC7CC,YAAY,EAAE,IAAI,CAACL,SAAS,CAACK,YAAY;UACzCC,YAAY,EAAE,IAAI,CAACN,SAAS,CAACM,YAAY;UACzCC,QAAQ,EAAE,IAAI,CAACP,SAAS,CAACO,QAAQ;UACjCC,SAAS,EAAE,IAAI,CAACR,SAAS,CAACQ,SAAS;UACnCC,OAAO,EAAE,IAAI,CAACT,SAAS,CAACS,OAAO;UAC/BC,WAAW,EAAE,IAAI,CAACV,SAAS,CAACU,WAAW;UACvCC,eAAe,EAAE,IAAI,CAACX,SAAS,CAACW,eAAe;UAC/CC,cAAc,EAAE,IAAI,CAACZ,SAAS,CAACY,cAAc;UAC7CC,YAAY,EAAE,IAAI,CAACb,SAAS,CAACa,YAAY;UACzCC,YAAY,EAAE,IAAI,CAACd,SAAS,CAACc,YAAY;UACzCC,QAAQ,EAAE,IAAI,CAACf,SAAS,CAACe,QAAQ;UACjCC,SAAS,EAAE,IAAI,CAAChB,SAAS,CAACgB,SAAS;UACnCC,OAAO,EAAE,IAAI,CAACjB,SAAS,CAACiB,OAAO;UAC/BC,WAAW,EAAE,IAAI,CAAClB,SAAS,CAACkB,WAAW;UACvCC,OAAO,EAAE,IAAI,CAACnB,SAAS,CAACmB,OAAM,IAAK,UAAS,CAAE;QAChD,CAAC;;QAED;QACA,MAAMC,QAAO,GAAI,MAAM7B,KAAK,CAAC8B,IAAI,CAAC,8BAA8B,EAAEvB,YAAY,CAAC;QAE/E,IAAIsB,QAAQ,CAAC3B,IAAI,CAAC6B,MAAK,KAAM,CAAC,EAAE;UAC9B;UACA,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;YAChBC,IAAI,EAAE,cAAc;YACpBC,MAAM,EAAE;cACNC,EAAE,EAAEP,QAAQ,CAAC3B,IAAI,CAACA,IAAI,CAACmC;YACzB;UACF,CAAC,CAAC;QACJ,OAAO;UACL,MAAM,IAAIC,KAAK,CAACT,QAAQ,CAAC3B,IAAI,CAACqC,OAAM,IAAK,2BAA2B,CAAC;QACvE;MACF,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;QAC3C,IAAI,CAACpC,YAAW,GAAIoC,KAAK,CAACX,QAAQ,EAAE3B,IAAI,EAAEqC,OAAM,IAC9B,4CAA4C;MAChE,UAAU;QACR,IAAI,CAACpC,SAAQ,GAAI,KAAK;MACxB;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}