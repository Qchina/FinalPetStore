{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, withModifiers as _withModifiers, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nimport _imports_0 from '@/assets/images/logo-topbar.gif';\nimport _imports_1 from '@/assets/images/cart.gif';\nimport _imports_2 from '@/assets/images/separator.gif';\nimport _imports_3 from '@/assets/images/sm_fish.gif';\nimport _imports_4 from '@/assets/images/sm_dogs.gif';\nimport _imports_5 from '@/assets/images/sm_reptiles.gif';\nimport _imports_6 from '@/assets/images/sm_cats.gif';\nimport _imports_7 from '@/assets/images/sm_birds.gif';\nconst _hoisted_1 = {\n  id: \"Header\"\n};\nconst _hoisted_2 = {\n  id: \"Logo\"\n};\nconst _hoisted_3 = {\n  id: \"LogoContent\"\n};\nconst _hoisted_4 = {\n  id: \"Menu\"\n};\nconst _hoisted_5 = {\n  id: \"MenuContent\"\n};\nconst _hoisted_6 = {\n  id: \"Search\"\n};\nconst _hoisted_7 = {\n  id: \"SearchContent\"\n};\nconst _hoisted_8 = {\n  id: \"QuickLinks\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createVNode(_component_router_link, {\n    to: \"/\"\n  }, {\n    default: _withCtx(() => _cache[3] || (_cache[3] = [_createElementVNode(\"img\", {\n      src: _imports_0\n    }, null, -1 /* HOISTED */)])),\n    _: 1 /* STABLE */\n  })])]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_router_link, {\n    to: \"/cart\"\n  }, {\n    default: _withCtx(() => _cache[4] || (_cache[4] = [_createElementVNode(\"img\", {\n      align: \"middle\",\n      name: \"img_cart\",\n      src: _imports_1\n    }, null, -1 /* HOISTED */)])),\n    _: 1 /* STABLE */\n  }), _cache[11] || (_cache[11] = _createElementVNode(\"img\", {\n    align: \"middle\",\n    src: _imports_2\n  }, null, -1 /* HOISTED */)), !$data.isLoggedIn ? (_openBlock(), _createElementBlock(_Fragment, {\n    key: 0\n  }, [_createVNode(_component_router_link, {\n    to: \"/userauth\"\n  }, {\n    default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"Sign In\")])),\n    _: 1 /* STABLE */\n  }), _cache[6] || (_cache[6] = _createElementVNode(\"img\", {\n    align: \"middle\",\n    src: _imports_2\n  }, null, -1 /* HOISTED */))], 64 /* STABLE_FRAGMENT */)) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createElementVNode(\"a\", {\n    href: \"#\",\n    onClick: _cache[0] || (_cache[0] = _withModifiers((...args) => $options.logout && $options.logout(...args), [\"prevent\"]))\n  }, \"Sign Out\"), _cache[8] || (_cache[8] = _createElementVNode(\"img\", {\n    align: \"middle\",\n    src: _imports_2\n  }, null, -1 /* HOISTED */)), _createVNode(_component_router_link, {\n    to: \"/accountauth\"\n  }, {\n    default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"My Account\")])),\n    _: 1 /* STABLE */\n  }), _cache[9] || (_cache[9] = _createElementVNode(\"img\", {\n    align: \"middle\",\n    src: _imports_2\n  }, null, -1 /* HOISTED */))], 64 /* STABLE_FRAGMENT */)), _createVNode(_component_router_link, {\n    to: \"/help\"\n  }, {\n    default: _withCtx(() => _cache[10] || (_cache[10] = [_createTextVNode(\"?\")])),\n    _: 1 /* STABLE */\n  })])]), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"form\", {\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.search && $options.search(...args), [\"prevent\"]))\n  }, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.keyword = $event),\n    size: \"14\",\n    id: \"keyword\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.keyword]]), _cache[12] || (_cache[12] = _createElementVNode(\"input\", {\n    type: \"submit\",\n    value: \"Search\"\n  }, null, -1 /* HOISTED */))], 32 /* NEED_HYDRATION */), _cache[13] || (_cache[13] = _createElementVNode(\"div\", {\n    id: \"productAutoComplete\"\n  }, [_createElementVNode(\"ul\", {\n    id: \"productAutoList\"\n  }, [_createCommentVNode(\" 自动完成列表将通过v-for动态生成 \")])], -1 /* HOISTED */))])]), _createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_router_link, {\n    to: \"/category/FISH\"\n  }, {\n    default: _withCtx(() => _cache[14] || (_cache[14] = [_createElementVNode(\"img\", {\n      src: _imports_3\n    }, null, -1 /* HOISTED */)])),\n    _: 1 /* STABLE */\n  }), _cache[19] || (_cache[19] = _createElementVNode(\"img\", {\n    src: _imports_2\n  }, null, -1 /* HOISTED */)), _createVNode(_component_router_link, {\n    to: \"/category/DOGS\"\n  }, {\n    default: _withCtx(() => _cache[15] || (_cache[15] = [_createElementVNode(\"img\", {\n      src: _imports_4\n    }, null, -1 /* HOISTED */)])),\n    _: 1 /* STABLE */\n  }), _cache[20] || (_cache[20] = _createElementVNode(\"img\", {\n    src: _imports_2\n  }, null, -1 /* HOISTED */)), _createVNode(_component_router_link, {\n    to: \"/category/REPTILES\"\n  }, {\n    default: _withCtx(() => _cache[16] || (_cache[16] = [_createElementVNode(\"img\", {\n      src: _imports_5\n    }, null, -1 /* HOISTED */)])),\n    _: 1 /* STABLE */\n  }), _cache[21] || (_cache[21] = _createElementVNode(\"img\", {\n    src: _imports_2\n  }, null, -1 /* HOISTED */)), _createVNode(_component_router_link, {\n    to: \"/category/CATS\"\n  }, {\n    default: _withCtx(() => _cache[17] || (_cache[17] = [_createElementVNode(\"img\", {\n      src: _imports_6\n    }, null, -1 /* HOISTED */)])),\n    _: 1 /* STABLE */\n  }), _cache[22] || (_cache[22] = _createElementVNode(\"img\", {\n    src: _imports_2\n  }, null, -1 /* HOISTED */)), _createVNode(_component_router_link, {\n    to: \"/category/BIRDS\"\n  }, {\n    default: _withCtx(() => _cache[18] || (_cache[18] = [_createElementVNode(\"img\", {\n      src: _imports_7\n    }, null, -1 /* HOISTED */)])),\n    _: 1 /* STABLE */\n  })])]);\n}","map":{"version":3,"names":["_imports_0","_imports_1","_imports_2","_imports_3","_imports_4","_imports_5","_imports_6","_imports_7","id","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_createVNode","_component_router_link","to","default","_withCtx","_cache","src","_","_hoisted_4","_hoisted_5","align","name","$data","isLoggedIn","_Fragment","key","_createTextVNode","href","onClick","_withModifiers","args","$options","logout","_hoisted_6","_hoisted_7","onSubmit","search","type","$event","keyword","size","value","_createCommentVNode","_hoisted_8"],"sources":["D:\\ournewpetstore\\src\\components\\CommonTop.vue"],"sourcesContent":["<template>\r\n  <div id=\"Header\">\r\n    <div id=\"Logo\">\r\n      <div id=\"LogoContent\">\r\n        <router-link to=\"/\"><img src=\"@/assets/images/logo-topbar.gif\"></router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"Menu\">\r\n      <div id=\"MenuContent\">\r\n        <router-link to=\"/cart\"><img align=\"middle\" name=\"img_cart\" src=\"@/assets/images/cart.gif\" /></router-link>\r\n        <img align=\"middle\" src=\"@/assets/images/separator.gif\" />\r\n        \r\n        <template v-if=\"!isLoggedIn\">\r\n          <router-link to=\"/userauth\">Sign In</router-link>\r\n          <img align=\"middle\" src=\"@/assets/images/separator.gif\" />\r\n        </template>\r\n        \r\n        <template v-else>\r\n          <a href=\"#\" @click.prevent=\"logout\">Sign Out</a>\r\n          <img align=\"middle\" src=\"@/assets/images/separator.gif\" />\r\n          <router-link to=\"/accountauth\">My Account</router-link>\r\n          <img align=\"middle\" src=\"@/assets/images/separator.gif\" />\r\n        </template>\r\n        \r\n        <router-link to=\"/help\">?</router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"Search\">\r\n      <div id=\"SearchContent\">\r\n        <form @submit.prevent=\"search\">\r\n          <input type=\"text\" v-model=\"keyword\" size=\"14\" id=\"keyword\">\r\n          <input type=\"submit\" value=\"Search\">\r\n        </form>\r\n        <div id=\"productAutoComplete\">\r\n          <ul id=\"productAutoList\">\r\n            <!-- 自动完成列表将通过v-for动态生成 -->\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div id=\"QuickLinks\">\r\n      <router-link to=\"/category/FISH\"><img src=\"@/assets/images/sm_fish.gif\" /></router-link>\r\n      <img src=\"@/assets/images/separator.gif\" />\r\n      <router-link to=\"/category/DOGS\"><img src=\"@/assets/images/sm_dogs.gif\" /></router-link>\r\n      <img src=\"@/assets/images/separator.gif\" />\r\n      <router-link to=\"/category/REPTILES\"><img src=\"@/assets/images/sm_reptiles.gif\" /></router-link>\r\n      <img src=\"@/assets/images/separator.gif\" />\r\n      <router-link to=\"/category/CATS\"><img src=\"@/assets/images/sm_cats.gif\" /></router-link>\r\n      <img src=\"@/assets/images/separator.gif\" />\r\n      <router-link to=\"/category/BIRDS\"><img src=\"@/assets/images/sm_birds.gif\" /></router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n  data() {\r\n    return {\r\n      isLoggedIn: false,\r\n      keyword: ''\r\n    }\r\n  },\r\n  created() {\r\n    // 页面加载时判断是否已登录\r\n    const user = localStorage.getItem('user');\r\n    this.isLoggedIn = !!user;\r\n  },\r\n  methods: {\r\n    async logout() {\r\n      try {\r\n        // 调用后端登出接口\r\n        await axios.post('http://localhost:9090/api/v1/accounts/logout', {}, { withCredentials: true });\r\n        localStorage.removeItem('user');\r\n        this.isLoggedIn = false;\r\n        this.$router.push('/');\r\n      } catch (error) {\r\n        console.error('登出失败:', error);\r\n      }\r\n    },\r\n    search() {\r\n      // 搜索逻辑\r\n      this.$router.push({ path: '/search', query: { keyword: this.keyword } })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#Header {\r\n  background-color: black;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 20px;\r\n  height: 60px;\r\n  position: fixed;\r\n  top:0;\r\n  width: 100%;\r\n  z-index: 1;\r\n}\r\n\r\n#LogoContent {\r\n  margin: 0;\r\n}\r\n\r\n#LogoContent img {\r\n  border: 0;\r\n  height: 40px;\r\n  width: auto;\r\n}\r\n\r\n#MenuContent {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n#MenuContent a {\r\n  color: yellow;\r\n  font-weight: bold;\r\n  text-decoration: none;\r\n  transition: color 0.3s ease;\r\n}\r\n\r\n#MenuContent a:hover {\r\n  color: #f40;\r\n}\r\n\r\n#MenuContent img[name=\"img_cart\"] {\r\n  margin-right: 0;\r\n}\r\n\r\n#Search {\r\n  position: static;\r\n  width: auto;\r\n}\r\n\r\n#SearchContent {\r\n  display: flex;\r\n  gap: 5px;\r\n}\r\n\r\n#SearchContent input[type=\"text\"] {\r\n  width: 140px;\r\n  padding: 8px;\r\n  border: 1px solid #ccc;\r\n  background-color: gray;\r\n  color: white;\r\n  border-radius: 4px;\r\n}\r\n\r\n#SearchContent input[type=\"submit\"] {\r\n  padding: 8px 15px;\r\n  background-color: #e0e0e0;\r\n  color: black;\r\n  border: none;\r\n  cursor: pointer;\r\n  border-radius: 4px;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n#SearchContent input[type=\"submit\"]:hover {\r\n  background-color: #ccc;\r\n}\r\n\r\n#QuickLinks {\r\n  position: absolute;\r\n  top: 100%;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n  padding: 10px 0;\r\n  width: auto;\r\n}\r\n\r\n#QuickLinks img {\r\n  border: 0;\r\n  vertical-align: middle;\r\n  transition: transform 0.3s ease;\r\n}\r\n\r\n#QuickLinks img:hover {\r\n  transform: scale(1.1);\r\n}\r\n\r\n#productAutoComplete {\r\n  position: absolute;\r\n  background: white;\r\n  border: 1px solid #ccc;\r\n  width: 180px;\r\n  z-index: 100;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n#productAutoList {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n#productAutoList li {\r\n  padding: 10px;\r\n  cursor: pointer;\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\n#productAutoList li:hover {\r\n  background-color: #f5f5f5;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}